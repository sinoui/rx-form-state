(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{hvsW:function(e,t,n){"use strict";n.r(t),n.d(t,"_frontmatter",(function(){return b})),n.d(t,"default",(function(){return d}));var a=n("Fcif"),o=n("+I+c"),i=n("/FXl"),r=n("TjRS"),l=n("ZFoC"),s=n("xIpy"),m=n("IUht"),u=n("hh+d"),b=(n("aD51"),{});void 0!==b&&b&&b===Object(b)&&Object.isExtensible(b)&&!b.hasOwnProperty("__filemeta")&&Object.defineProperty(b,"__filemeta",{configurable:!0,value:{name:"_frontmatter",filename:"docs/form-initial-values-and-reset.mdx"}});var c={_frontmatter:b},p=r.a;function d(e){var t,n=e.components,d=Object(o.a)(e,["components"]);return Object(i.b)(p,Object(a.a)({},c,d,{components:n,mdxType:"MDXLayout"}),Object(i.b)("h1",{id:"è¡¨å•åˆå§‹å€¼ä¸é‡ç½®"},"è¡¨å•åˆå§‹å€¼ä¸é‡ç½®"),Object(i.b)("h2",{id:"è®¾ç½®è¡¨å•åˆå§‹å€¼"},"è®¾ç½®è¡¨å•åˆå§‹å€¼"),Object(i.b)("p",null,Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"api-use-form-state"}),Object(i.b)("inlineCode",{parentName:"a"},"useFormState(initialValues, options)")),"çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¡¨å•åˆå§‹å€¼ï¼Œå®ƒçš„åŸºæœ¬ç”¨æ³•æ˜¯ï¼š"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"import { useFormState } from '@sinoui/rx-form-state';\n\nfunction FormDemo() {\n  const initialValues = {\n    userName: 'å¼ ä¸‰',\n    favs: ['ç¯®çƒ', 'è¶³çƒ'],\n  };\n  const formState = useFormState(initialValues);\n}\n")),Object(i.b)("p",null,"æœ‰æ—¶åº”ç”¨éœ€è¦å»æœåŠ¡å™¨ç«¯åŠ è½½è¡¨å•æ•°æ®ï¼Œä¾‹å¦‚ï¼š"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-tsx"}),"import useRestItemApi from '@sinoui/use-rest-item-api';\nimport { useFormState } from '@sinoui/rx-form-state';\n\nfunction FormDemo() {\n  const restState = useRestItemApi('/users', '1');\n  const formState = useFormState(restState.data);\n}\n")),Object(i.b)("p",null,"é»˜è®¤æƒ…å†µä¸‹ï¼Œ",Object(i.b)("inlineCode",{parentName:"p"},"useFormState"),"ä¼šç›‘å¬",Object(i.b)("inlineCode",{parentName:"p"},"initialValues"),"å‚æ•°çš„å˜åŒ–ï¼Œä½¿ç”¨æ·±æ¯”è¾ƒçš„æ–¹å¼åˆ¤æ–­æœ‰å˜åŒ–åï¼Œä¼šé‡æ–°åº”ç”¨è¡¨å•åˆå§‹å€¼ï¼Œæ‰€ä»¥ï¼Œä¸‹é¢çš„ä»£ç å¯èƒ½ä¼šå‡ºç°é—®é¢˜ï¼š"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"import { useFormState } from '@sinoui/rx-form-state';\n\nfunction FormDemo() {\n  const initialValues = {\n    day: new Date(), // ğŸ˜”ğŸ”´ æ¯æ¬¡FormDemoé‡ç»˜æ—¶ï¼Œdayæ€»æ˜¯ä¸€ä¸ªæ–°çš„å€¼ã€‚\n  };\n  const formState = useFormState(initialValues); // ğŸ˜”ğŸ”´ åœ¨FormDemoé‡ç»˜æ—¶ï¼Œä¼šå‡ºç°è¡¨å•å€¼ä¸¢å¤±æƒ…å†µ\n}\n")),Object(i.b)("p",null,"æ¯æ¬¡",Object(i.b)("inlineCode",{parentName:"p"},"FormDemo"),"é‡ç»˜æ—¶ï¼Œ",Object(i.b)("inlineCode",{parentName:"p"},"initialValues.day"),"éƒ½æ˜¯ä¸€ä¸ªæ–°çš„å€¼ï¼Œè¿™æ ·",Object(i.b)("inlineCode",{parentName:"p"},"formState"),"æ€»æ˜¯ä¼šåº”ç”¨æ–°çš„",Object(i.b)("inlineCode",{parentName:"p"},"initialValues"),"ï¼Œå°†è¡¨å•å€¼è®¾ç½®ä¸º",Object(i.b)("inlineCode",{parentName:"p"},"initialValues"),"ã€‚å¯èƒ½æˆ‘ä»¬å·²ç»åœ¨è¡¨å•ä¸­å¡«å†™äº†ä¸€äº›æ•°æ®ï¼Œä½†æ˜¯ç”±äº",Object(i.b)("inlineCode",{parentName:"p"},"FormDemo"),"å‘ç”Ÿé‡ç»˜ï¼Œä¼šå¯¼è‡´å·²å¡«å†™çš„æ•°æ®ä¸¢å¤±ã€‚"),Object(i.b)("p",null,"è¿™ç§æƒ…å†µæˆ‘ä»¬å¯ä»¥ä¸ç›‘å¬",Object(i.b)("inlineCode",{parentName:"p"},"initialValues"),"çš„å˜åŒ–ï¼š"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"import { useFormState } from '@sinoui/rx-form-state';\n\nfunction FormDemo() {\n  const initialValues = {\n    day: new Date(),\n  };\n  const formState = useFormState(initialValues, {\n    enableReinitialize: false, // âœ… ä¸ç›‘å¬initialValuesçš„å˜åŒ–\n  });\n}\n")),Object(i.b)("p",null,"æˆ–è€…ç¼“å­˜",Object(i.b)("inlineCode",{parentName:"p"},"initialValues"),"ï¼š"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"import { useMemo } from 'react';\nimport { useFormState } from '@sinoui/rx-form-state';\n\nfunction FormDemo() {\n  // âœ… ç¼“å­˜initialValues\n  const initialValues = useMemo(\n    () => ({\n      day: new Date(),\n    }),\n    [],\n  );\n\n  const formState = useFormState(initialValues);\n}\n")),Object(i.b)("p",null,"ä¸",Object(i.b)("inlineCode",{parentName:"p"},"@sinoui/use-rest-item-api"),"ç»“åˆä½¿ç”¨æ—¶ï¼Œå¯ä»¥è¿™æ ·å¤„ç†ï¼š"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-tsx"}),"import useRestItemApi from '@sinoui/use-rest-item-api';\nimport { useFormState } from '@sinoui/rx-form-state';\n\nfunction FormDemo() {\n  const userId = '1';\n  const initialValues = {\n    day: new Date(),\n  };\n  const restState = useRestItemApi('/users', userId, initialValues); // âœ… useRestItemApiä¸ä¼šç›‘å¬initialValuesçš„å˜åŒ–\n  const formState = useFormState(restState.data);\n}\n")),Object(i.b)("h2",{id:"è¡¨å•é‡ç½®"},"è¡¨å•é‡ç½®"),Object(i.b)("p",null,"è°ƒç”¨",Object(i.b)("inlineCode",{parentName:"p"},"formState.reset"),"æ–¹æ³•é‡ç½®è¡¨å•ã€‚ä¾‹å¦‚ï¼š"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-tsx"}),'import React from \'react\';\nimport { useFormState, FormStateContext, Field } from \'@sinoui/rx-form-state\';\n\nfunction FormDemo() {\n  const initialValues = { userName: \'å¼ ä¸‰\', note: \'è¿™æ˜¯åˆå§‹åŒ–æ•°æ®\' };\n  const formState = useFormState(initialValues);\n\n  return (\n    <FormStateContext.Provider value={formState}>\n      <form>\n        <label>ç”¨æˆ·å</label>\n        <Field as="input" name="userName" />\n\n        <label>å¯†ç </label>\n        <Field as="input" name="password" type="password" />\n\n        <label>å¹´é¾„</label>\n        <Field as="input" name="age" type="number" />\n\n        <label>å¤‡æ³¨</label>\n        <Field as="input" name="note" />\n      </form>\n      <button onClick={() => formState.reset()}>é‡ç½®</button>\n    </FormStateContext.Provider>\n  );\n}\n')),Object(i.b)("p",null,"è¿è¡Œæ•ˆæœï¼š"),Object(i.b)(l.c,{__position:0,__code:'() => {\n  const initialValues = {\n    userName: \'å¼ ä¸‰\',\n    note: \'è¿™æ˜¯åˆå§‹åŒ–æ•°æ®\',\n    password: \'\',\n    age: \'\',\n  }\n  const formState = useFormState(initialValues)\n  return (\n    <FormStateContext.Provider value={formState}>\n      <>\n        <form>\n          <label>ç”¨æˆ·å</label>\n          <Field as="input" name="userName" />\n          <label>å¯†ç </label>\n          <Field as="input" name="password" type="password" />\n          <label>å¹´é¾„</label>\n          <Field as="input" name="age" type="number" />\n          <label>å¤‡æ³¨</label>\n          <Field as="input" name="note" />\n        </form>\n        <button onClick={() => formState.reset()}>é‡ç½®</button>\n      </>\n    </FormStateContext.Provider>\n  )\n}',__scope:(t={props:d,DefaultLayout:r.a,Playground:l.c,useFormState:s.a,FormStateContext:m.a,Field:u.a},t.DefaultLayout=r.a,t._frontmatter=b,t),mdxType:"Playground"},(function(){var e=Object(s.a)({userName:"å¼ ä¸‰",note:"è¿™æ˜¯åˆå§‹åŒ–æ•°æ®",password:"",age:""});return Object(i.b)(m.a.Provider,{value:e},Object(i.b)(React.Fragment,null,Object(i.b)("form",null,Object(i.b)("label",null,"ç”¨æˆ·å"),Object(i.b)(u.a,{as:"input",name:"userName",mdxType:"Field"}),Object(i.b)("label",null,"å¯†ç "),Object(i.b)(u.a,{as:"input",name:"password",type:"password",mdxType:"Field"}),Object(i.b)("label",null,"å¹´é¾„"),Object(i.b)(u.a,{as:"input",name:"age",type:"number",mdxType:"Field"}),Object(i.b)("label",null,"å¤‡æ³¨"),Object(i.b)(u.a,{as:"input",name:"note",mdxType:"Field"})),Object(i.b)("button",{onClick:function(){return e.reset()}},"é‡ç½®")))})))}void 0!==d&&d&&d===Object(d)&&Object.isExtensible(d)&&!d.hasOwnProperty("__filemeta")&&Object.defineProperty(d,"__filemeta",{configurable:!0,value:{name:"MDXContent",filename:"docs/form-initial-values-and-reset.mdx"}}),d.isMDXComponent=!0}}]);
//# sourceMappingURL=component---docs-form-initial-values-and-reset-mdx-73724490d330c17f9362.js.map